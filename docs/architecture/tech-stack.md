# Chinese Rose å‰ç«¯æŠ€æœ¯æ ˆ

> æœ€åæ›´æ–°ï¼š2025-01-01

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº† Chinese Roseï¼ˆé˜…è®°ï¼‰é¡¹ç›®å‰ç«¯çš„æŠ€æœ¯æ ˆé€‰å‹ã€ç‰ˆæœ¬ä¿¡æ¯å’Œä½¿ç”¨åœºæ™¯ã€‚

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ ˆ

### 1. è·¨ç«¯æ¡†æ¶

#### uni-app 3.x
- **ç‰ˆæœ¬**: `3.0.0-3090920231225001`
- **å®˜ç½‘**: https://uniapp.dcloud.net.cn/
- **é€‰å‹åŸå› **:
  - æ”¯æŒä¸€å¥—ä»£ç ç¼–è¯‘åˆ°å¤šä¸ªå¹³å°ï¼ˆå¾®ä¿¡å°ç¨‹åºã€H5ã€Appï¼‰
  - åŸºäº Vue 3 ç”Ÿæ€ï¼Œå¼€å‘ä½“éªŒä¼˜ç§€
  - ä¸°å¯Œçš„ç»„ä»¶åº“å’Œæ’ä»¶å¸‚åœº
  - æˆç†Ÿçš„ç¤¾åŒºæ”¯æŒå’Œå®Œå–„çš„æ–‡æ¡£

#### Vue 3.4
- **ç‰ˆæœ¬**: `3.4.38`
- **å®˜ç½‘**: https://cn.vuejs.org/
- **ç‰¹æ€§**:
  - Composition APIï¼ˆæ ¸å¿ƒå¼€å‘æ–¹å¼ï¼‰
  - `<script setup>` è¯­æ³•ç³–
  - å“åº”å¼ç³»ç»Ÿä¼˜åŒ–
  - TypeScript æ”¯æŒå®Œå–„

### 2. ç¼–ç¨‹è¯­è¨€

#### TypeScript
- **ç‰ˆæœ¬**: `^5.2.2`
- **å®˜ç½‘**: https://www.typescriptlang.org/
- **é…ç½®**: ä¸¥æ ¼æ¨¡å¼ï¼ˆéƒ¨åˆ†é€‰é¡¹ï¼‰
  - `noImplicitAny: true`
  - `strictNullChecks: true`
  - `noUnusedLocals: true`
- **ä¼˜åŠ¿**:
  - ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
  - æ›´å¥½çš„ IDE æ™ºèƒ½æç¤º
  - æå‡ä»£ç å¯ç»´æŠ¤æ€§

### 3. çŠ¶æ€ç®¡ç†

#### Pinia
- **ç‰ˆæœ¬**: `2.1.7`
- **å®˜ç½‘**: https://pinia.vuejs.org/
- **é€‰å‹åŸå› **:
  - Vue 3 å®˜æ–¹æ¨èçš„çŠ¶æ€ç®¡ç†åº“
  - TypeScript æ”¯æŒä¼˜ç§€
  - å¼€å‘ä½“éªŒæ›´å¥½ï¼ˆæ— éœ€ mutationsï¼‰
  - ä½“ç§¯æ›´å°ï¼Œæ€§èƒ½æ›´å¥½

**ä½¿ç”¨åœºæ™¯**:
- ç”¨æˆ·è®¤è¯çŠ¶æ€ï¼ˆ`useUserStore`ï¼‰
- ä¸»é¢˜é…ç½®ï¼ˆ`useThemeStore`ï¼‰
- å…¨å±€åº”ç”¨çŠ¶æ€ï¼ˆ`useAppStore`ï¼‰

### 4. UI ç»„ä»¶åº“

#### uView Plus
- **ç‰ˆæœ¬**: `^3.2.17`
- **å®˜ç½‘**: https://uview-plus.jiangruyi.com/
- **é€‰å‹åŸå› **:
  - ä¸“ä¸º uni-app è®¾è®¡çš„ UI ç»„ä»¶åº“
  - æ”¯æŒ Vue 3 + TypeScript
  - ç»„ä»¶ä¸°å¯Œï¼Œè®¾è®¡è§„èŒƒç»Ÿä¸€
  - æä¾› Scss å˜é‡ï¼Œæ”¯æŒä¸»é¢˜å®šåˆ¶

**å¸¸ç”¨ç»„ä»¶**:
- è¡¨å•ç»„ä»¶ï¼š`u-form`ã€`u-input`ã€`u-button`
- å¸ƒå±€ç»„ä»¶ï¼š`u-row`ã€`u-col`ã€`u-grid`
- åé¦ˆç»„ä»¶ï¼š`u-toast`ã€`u-modal`ã€`u-loading`
- å¯¼èˆªç»„ä»¶ï¼š`u-navbar`ã€`u-tabs`ã€`u-tabbar`

---

## ğŸ› ï¸ å¼€å‘å·¥å…·é“¾

### æ„å»ºå·¥å…·

#### Vite
- **ç‰ˆæœ¬**: `^4.1.4`
- **å®˜ç½‘**: https://vitejs.dev/
- **ç‰¹æ€§**:
  - å¿«é€Ÿçš„å†·å¯åŠ¨
  - å³æ—¶çš„æ¨¡å—çƒ­æ›´æ–°ï¼ˆHMRï¼‰
  - çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘
  - å†…ç½® TypeScript æ”¯æŒ

**é…ç½®äº®ç‚¹**:
```typescript
// vite.config.ts
{
  server: {
    port: 3000,
    proxy: {
      '/api': 'http://localhost:8080'  // åç«¯ä»£ç†
    }
  },
  build: {
    minify: 'terser',
    target: 'es2015'
  }
}
```

### ä»£ç è´¨é‡å·¥å…·

#### ESLint
- **ç‰ˆæœ¬**: `^8.50.0`
- **é…ç½®**: Vue 3 + TypeScript è§„åˆ™
- **æ’ä»¶**:
  - `@typescript-eslint/eslint-plugin`
  - `eslint-plugin-vue`
  - `@vue/eslint-config-typescript`

**å‘½ä»¤**:
```bash
npm run lint          # æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤
```

#### Vue TSC
- **ç‰ˆæœ¬**: `^1.8.19`
- **ç”¨é€”**: Vue æ–‡ä»¶çš„ TypeScript ç±»å‹æ£€æŸ¥
- **å‘½ä»¤**:
```bash
npm run type-check    # ç±»å‹æ£€æŸ¥ï¼ˆä¸ç”Ÿæˆæ–‡ä»¶ï¼‰
```

---

## ğŸ§ª æµ‹è¯•æ¡†æ¶

### å•å…ƒæµ‹è¯•

#### Vitest
- **ç‰ˆæœ¬**: `^1.0.4`
- **å®˜ç½‘**: https://vitest.dev/
- **ç‰¹æ€§**:
  - åŸºäº Viteï¼Œå¯åŠ¨é€Ÿåº¦å¿«
  - å…¼å®¹ Jest API
  - å†…ç½® TypeScript æ”¯æŒ
  - UI ç•Œé¢å¯è§†åŒ–

**é…ç½®**:
- æµ‹è¯•ç¯å¢ƒï¼š`happy-dom`ï¼ˆè½»é‡çº§ DOM æ¨¡æ‹Ÿï¼‰
- è¦†ç›–ç‡å·¥å…·ï¼š`@vitest/coverage-v8`

**å‘½ä»¤**:
```bash
npm run test              # ç›‘å¬æ¨¡å¼
npm run test:run          # è¿è¡Œä¸€æ¬¡
npm run test:ui           # UI ç•Œé¢
npm run test:coverage     # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```

#### Vue Test Utils
- **ç‰ˆæœ¬**: `^2.4.1`
- **ç”¨é€”**: Vue ç»„ä»¶æµ‹è¯•å·¥å…·
- **å®˜ç½‘**: https://test-utils.vuejs.org/

### E2E æµ‹è¯•

#### Playwright
- **ç‰ˆæœ¬**: `^1.55.0`
- **å®˜ç½‘**: https://playwright.dev/
- **ç”¨é€”**: H5 ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•

#### miniprogram-automator
- **ç‰ˆæœ¬**: `^0.12.1`
- **ç”¨é€”**: å¾®ä¿¡å°ç¨‹åºè‡ªåŠ¨åŒ–æµ‹è¯•

---

## ğŸ“¦ å·¥å…·åº“

### åŠ å¯†å·¥å…·

#### crypto-js
- **ç‰ˆæœ¬**: `^4.2.0`
- **ç”¨é€”**:
  - å¯†ç åŠ å¯†ï¼ˆSHA256ï¼‰
  - æ•æ„Ÿæ•°æ®åŠ å¯†
  - Token ç­¾å

### HTTP è¯·æ±‚

#### uni.requestï¼ˆå°è£…ï¼‰
- **æ–‡ä»¶**: `src/utils/request.ts`
- **ç‰¹æ€§**:
  - ç»Ÿä¸€çš„è¯·æ±‚/å“åº”æ‹¦æˆª
  - è‡ªåŠ¨æºå¸¦ Token
  - é”™è¯¯ç»Ÿä¸€å¤„ç†
  - è¯·æ±‚æ—¥å¿—è®°å½•

---

## ğŸ¨ æ ·å¼æ–¹æ¡ˆ

### CSS é¢„å¤„ç†å™¨

#### Sass/SCSS
- **ç‰ˆæœ¬**: `^1.69.5`
- **ç”¨é€”**:
  - ä¸»é¢˜å˜é‡å®šä¹‰
  - å…¬å…±æ··åˆå™¨ï¼ˆmixinsï¼‰
  - è®¾è®¡ä»¤ç‰Œï¼ˆDesign Tokensï¼‰

### è®¾è®¡ç³»ç»Ÿ

**ç›®å½•**: `src/styles/`

```
styles/
â”œâ”€â”€ design-tokens/        # è®¾è®¡ä»¤ç‰Œ
â”‚   â”œâ”€â”€ colors.scss      # é¢œè‰²ç³»ç»Ÿ
â”‚   â”œâ”€â”€ spacing.scss     # é—´è·ç³»ç»Ÿ
â”‚   â””â”€â”€ typography.scss  # æ’ç‰ˆç³»ç»Ÿ
â”œâ”€â”€ modules/             # åŠŸèƒ½æ¨¡å—æ ·å¼
â”œâ”€â”€ overrides/           # ç¬¬ä¸‰æ–¹åº“è¦†ç›–
â”œâ”€â”€ theme.scss           # ä¸»é¢˜é…ç½®
â”œâ”€â”€ mixins.scss          # å…¬å…±æ··åˆå™¨
â””â”€â”€ uview-override.scss  # uView è¦†ç›–
```

**ç‰¹æ€§**:
- Figma è®¾è®¡ä»¤ç‰Œæ˜ å°„
- æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜
- ç»Ÿä¸€çš„è®¾è®¡å˜é‡

---

## ğŸŒ å¤šç«¯é€‚é…

### å¹³å°æ”¯æŒ

| å¹³å° | çŠ¶æ€ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|------|--------|------|
| å¾®ä¿¡å°ç¨‹åº | âœ… æ”¯æŒ | P0 | ä¸»è¦å‘å¸ƒå¹³å° |
| H5 | âœ… æ”¯æŒ | P1 | å¼€å‘è°ƒè¯•ã€ç§»åŠ¨ç«¯æµè§ˆå™¨ |
| App | ğŸš§ è§„åˆ’ä¸­ | P2 | åç»­æ”¯æŒ |

### å¹³å°å·®å¼‚å¤„ç†

#### æ¡ä»¶ç¼–è¯‘
```vue
<!-- #ifdef MP-WEIXIN -->
<button open-type="getUserInfo">å¾®ä¿¡æˆæƒ</button>
<!-- #endif -->

<!-- #ifdef H5 -->
<button @click="h5Login">H5 ç™»å½•</button>
<!-- #endif -->
```

#### å¹³å°æ£€æµ‹å·¥å…·
```typescript
// src/utils/platform.ts
export const isH5 = (): boolean
export const isMP = (): boolean
export const isApp = (): boolean
```

---

## ğŸ“ å¼€å‘è§„èŒƒ

### è·¯å¾„åˆ«å

```typescript
// tsconfig.json
{
  "paths": {
    "@/*": ["src/*"],
    "@/components/*": ["src/components/*"],
    "@/pages/*": ["src/pages/*"],
    "@/utils/*": ["src/utils/*"],
    "@/api/*": ["src/api/*"],
    "@/stores/*": ["src/stores/*"],
    "@/types/*": ["src/types/*"]
  }
}
```

### ä»£ç è§„èŒƒ

- **ç»„ä»¶å‘½å**: PascalCaseï¼ˆå¦‚ `BookCard.vue`ï¼‰
- **æ–‡ä»¶å‘½å**: kebab-caseï¼ˆå¦‚ `use-countdown.ts`ï¼‰
- **å¸¸é‡å‘½å**: UPPER_SNAKE_CASEï¼ˆå¦‚ `API_BASE_URL`ï¼‰
- **ç»„ä»¶ä½¿ç”¨**: Composition API + `<script setup>`

### Git æäº¤è§„èŒƒ

```bash
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·é“¾ç›¸å…³
```

---

## ğŸ”§ ç¯å¢ƒå˜é‡

### æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| `.env.development` | æœ¬åœ°å¼€å‘ | æœ¬åœ° API åœ°å€ |
| `.env.production` | ç”Ÿäº§ç¯å¢ƒ | çº¿ä¸Š API åœ°å€ |
| `.env.h5` | H5 ç‰¹å®šé…ç½® | å¹³å°æ ‡è¯† |

### ä½¿ç”¨æ–¹å¼

```typescript
// è®¿é—®ç¯å¢ƒå˜é‡
const apiBase = import.meta.env.VITE_API_BASE
const isProduction = import.meta.env.PROD
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼
```bash
npm run dev:mp-weixin    # å¾®ä¿¡å°ç¨‹åº
npm run dev:h5           # H5 å¼€å‘
```

### ç”Ÿäº§æ„å»º
```bash
npm run build:mp-weixin  # å¾®ä¿¡å°ç¨‹åº
npm run build:h5         # H5 æ„å»º
```

### ä»£ç æ£€æŸ¥
```bash
npm run lint             # ESLint æ£€æŸ¥
npm run type-check       # TypeScript æ£€æŸ¥
```

### æµ‹è¯•
```bash
npm run test             # å•å…ƒæµ‹è¯•
npm run test:coverage    # æµ‹è¯•è¦†ç›–ç‡
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®ç›®å½•ç»“æ„](./directory-structure.md)
- [å¼€å‘æŒ‡å—](../DEVELOPMENT.md)
- [è®¾è®¡è§„èŒƒ](../DESIGN_GUIDE.md)
- [å°ç¨‹åºç¯å¢ƒé…ç½®](../miniprogram/environment-setup-guide.md)

---

## ğŸ”— å¤–éƒ¨èµ„æº

- [uni-app å®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/)
- [Vue 3 ä¸­æ–‡æ–‡æ¡£](https://cn.vuejs.org/)
- [TypeScript ä¸­æ–‡æ–‡æ¡£](https://www.tslang.cn/)
- [Pinia ä¸­æ–‡æ–‡æ¡£](https://pinia.vuejs.org/zh/)
- [uView Plus æ–‡æ¡£](https://uview-plus.jiangruyi.com/)
- [Vitest æ–‡æ¡£](https://vitest.dev/)
