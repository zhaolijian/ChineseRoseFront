# 阅记小程序快速运行指南

## 前置条件
- ✅ 后端服务已启动：http://localhost:8080
- ❌ 微信开发者工具未安装

## 微信开发者工具安装

1. **下载地址**：
   https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html
   
2. **选择版本**：
   - 选择 macOS 版本（稳定版）
   - 下载完成后双击安装

3. **登录开发者工具**：
   - 打开微信开发者工具
   - 使用微信扫码登录

## 导入小程序项目

1. **打开开发者工具**，选择"小程序"

2. **导入项目**：
   - 项目目录：`/Users/zhaolijian/Projects/chinese-rose-front`
   - AppID：`wx6c9db6a66d1e78b9`
   - 后端服务：本地模式

3. **构建npm**（重要！）：
   - 点击工具栏"工具" → "构建npm"
   - 等待构建完成（会生成miniprogram_npm目录）

4. **编译运行**：
   - 点击编译按钮或按 Cmd+B
   - 如有报错，查看控制台并修复

## 核心功能测试

### 1. 微信登录
- 点击"授权登录"按钮
- 确认授权
- 检查是否成功跳转到首页

### 2. 书架功能
- 查看书籍列表
- 添加新书籍
- 点击书籍查看详情

### 3. 笔记功能
- 创建新笔记
- 编辑笔记内容
- 保存和同步

### 4. 离线存储
- 关闭网络
- 创建/编辑笔记
- 恢复网络后检查同步

## 常见问题

### 1. 网络请求失败
- 确保后端服务运行在 http://localhost:8080
- 检查开发者工具中"不校验合法域名"是否勾选

### 2. 组件未找到
- 确保执行了"构建npm"
- 检查miniprogram_npm目录是否存在

### 3. 登录失败
- 检查后端.env中的微信AppID和AppSecret
- 确认与小程序AppID一致

## 真机调试

1. 点击工具栏"预览"按钮
2. 使用手机微信扫描二维码
3. 在手机上测试功能

## 当前状态

- ✅ 路由已重构为 pages/books/index
- ✅ 后端服务正常运行
- ✅ API接口可访问
- ✅ 基础框架和页面已实现
- ⏳ 等待在开发者工具中验证运行

## 下一步

1. 安装并打开微信开发者工具
2. 导入项目并构建npm
3. 测试核心功能
4. 记录发现的问题