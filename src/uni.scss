// src/uni.scss
// 全局样式入口：导入 uView 主题 + 自定义设计 token + 通用工具类

@use 'uview-plus/libs/css/mixin.scss';
@use '@/styles/theme.scss' as theme;
@use '@/styles/mixins.scss' as mixins;
@import '@/styles/design-tokens.scss';
@import '@/styles/uview-override.scss';

// —— uView 主题变量对齐 ——
$u-primary: theme.theme-color('primary');
$u-success: theme.theme-color('success');
$u-warning: theme.theme-color('warning');
$u-error: theme.theme-color('destructive');
$u-info: theme.theme-color('info');
$u-text-color: theme.theme-color('foreground');
$u-content-color: theme.theme-color('muted-foreground');
$u-tips-color: theme.theme-color('muted-foreground');
$u-border-color: theme.theme-color('divider');
$u-bg-color: theme.theme-color('background');

@import 'uview-plus/theme.scss';

page {
  background-color: theme.theme-color('background');
  color: theme.theme-color('foreground');
  font-size: theme.theme-font-size('base');
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

// —— 布局容器 ——
.cr-page {
  min-height: 100vh;
  background-color: theme.theme-color('background');
}

.cr-page__content {
  margin: 0 auto;
  max-width: theme.$container-max-width;
  max-width: #{mixins.px-to-rpx(theme.$container-max-width)};
  padding-left: 14px;
  padding-right: 14px;
}

.cr-container {
  background-color: theme.theme-color('background');
  @include mixins.spacing(padding, 'lg');
}

// —— 卡片 ——
.cr-card {
  @include mixins.surface-card;
}

.cr-card--padded {
  @include mixins.spacing(padding, 'lg');
}

// —— 按钮尺寸 ——
.cr-btn {
  width: 100%;
  @include mixins.radius('pill');
  font-weight: theme.theme-font-weight('medium');
}

.cr-btn--lg { height: 96rpx; font-size: 32rpx; }
.cr-btn--md { height: 84rpx; font-size: 28rpx; }
.cr-btn--sm { height: 72rpx; font-size: 26rpx; }

// —— 输入区域 ——
.cr-input {
  background-color: theme.theme-color('surface');
  border: 1px solid theme.theme-color('border');
  @include mixins.radius('md');
  padding: 0 24rpx;
  height: 80rpx;
  display: flex;
  align-items: center;
}

// —— 顶栏毛玻璃 ——
.cr-navbar--frosted {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: saturate(160%) blur(16rpx);
  -webkit-backdrop-filter: saturate(160%) blur(16rpx);
  border-bottom: 1rpx solid theme.theme-color('divider');
}

// —— 语义色 ——
.text-strong { color: theme.theme-color('foreground'); }
.text-main   { color: theme.theme-color('foreground'); }
.text-sub    { color: theme.theme-color('muted-foreground'); }
.text-primary{ color: theme.theme-color('primary'); }

.bg-primary  { background-color: theme.theme-color('primary'); }
.bg-surface  { background-color: theme.theme-color('surface'); }
.bg-weak     { background-color: theme.theme-color('primary-soft'); }

// 新增：页面背景色
.cr-page-bg {
  background-color: map-get($cr-colors, bg-page);
}

.cr-divider { height: 1rpx; background-color: theme.theme-color('divider'); }

.cr-icon { color: theme.theme-color('muted-foreground'); }
.cr-icon--active { color: theme.theme-color('primary'); }

// —— Utility ——
.shadow-sm { box-shadow: theme.theme-shadow('sm'); }
.shadow-md { box-shadow: theme.theme-shadow('md'); }

