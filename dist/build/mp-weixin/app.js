"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./common/vendor.js"),r=require("./stores/modules/user.js");require("./utils/request.js");const t=require("./utils/logger.js"),o=require("./utils/logger-helpers.js");require("./utils/storage.js"),require("./constants/storage.js"),require("./utils/base64.js"),require("./api/modules/auth.js"),require("./types/errorCodes.js"),require("./constants/request.js"),require("./utils/error-handler.js"),Math;const n=e.defineComponent({__name:"App",setup(n){const s=r.useUserStore();e.onLaunch(()=>{const e=o.createContext();t.logger.info(e,"[App] 应用启动"),i()}),e.onShow(()=>{const e=o.createContext();t.logger.info(e,"[App] 应用显示")}),e.onHide(()=>{const e=o.createContext();t.logger.info(e,"[App] 应用隐藏")});const i=()=>{return r=this,n=null,i=function*(){const r=o.createContext();try{t.logger.debug(r,"[initApp] 开始初始化应用");const o=yield e.index.getSystemInfo();t.logger.debug(r,"[initApp] 系统信息",{platform:o.platform,version:o.version,screenWidth:o.screenWidth,screenHeight:o.screenHeight}),yield s.initUserInfo(),t.logger.info(r,"[initApp] 用户登录状态（本地检查）",{isLoggedIn:s.isLoggedIn}),t.logger.info(r,"[initApp] 应用初始化完成")}catch(n){t.logger.error(r,"[initApp] 应用初始化失败",n)}},new Promise((e,t)=>{var o=e=>{try{u(i.next(e))}catch(r){t(r)}},s=e=>{try{u(i.throw(e))}catch(r){t(r)}},u=r=>r.done?e(r.value):Promise.resolve(r.value).then(o,s);u((i=i.apply(r,n)).next())});var r,n,i};return(e,r)=>({})}});function s(){const r=e.createSSRApp(n);return r.use(e.createPinia()),r.use(e.uView),e.index.$u&&e.index.$u.setConfig&&e.index.$u.setConfig({color:{primary:"#00a82d",success:"#16a34a",warning:"#f59e0b",error:"#dc2626",info:"#0ea5e9"}}),{app:r}}s().app.mount("#app"),exports.createApp=s;
