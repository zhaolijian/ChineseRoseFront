"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./common/vendor.js"),t=require("./stores/modules/user.js");require("./utils/request.js");const r=require("./utils/logger.js"),n=require("./utils/logger-helpers.js");require("./utils/storage.js"),require("./constants/storage.js"),require("./utils/base64.js"),require("./api/modules/auth.js"),require("./types/errorCodes.js"),require("./constants/request.js"),require("./utils/error-handler.js"),Math;const o=e.defineComponent({__name:"App",setup(o){const i=t.useUserStore();e.onLaunch(()=>{const e=n.createContext();r.logger.info(e,"[App] 应用启动"),s()}),e.onShow(()=>{const e=n.createContext();r.logger.info(e,"[App] 应用显示")}),e.onHide(()=>{const e=n.createContext();r.logger.info(e,"[App] 应用隐藏")});const s=()=>{return t=this,o=null,s=function*(){const t=n.createContext();try{r.logger.debug(t,"[initApp] 开始初始化应用");const n=yield e.index.getSystemInfo();r.logger.debug(t,"[initApp] 系统信息",{platform:n.platform,version:n.version,screenWidth:n.screenWidth,screenHeight:n.screenHeight}),yield i.initUserInfo(),r.logger.info(t,"[initApp] 用户登录状态（本地检查）",{isLoggedIn:i.isLoggedIn}),r.logger.info(t,"[initApp] 应用初始化完成")}catch(o){r.logger.error(t,"[initApp] 应用初始化失败",o)}},new Promise((e,r)=>{var n=e=>{try{c(s.next(e))}catch(t){r(t)}},i=e=>{try{c(s.throw(e))}catch(t){r(t)}},c=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,i);c((s=s.apply(t,o)).next())});var t,o,s};return(e,t)=>({})}});function i(){const t=e.createSSRApp(o),r=e.createPinia();t.use(r);const n=()=>"function"!=typeof getApp?null:getApp({allowDefault:!0}),i=n();return i?i.$pinia=r:t.mixin({onLaunch(){const e=n();e&&(e.$pinia=r)}}),t.config.globalProperties.$pinia=r,void 0!==e.index&&(e.index.$pinia=r),t.use(e.uView),e.index.$u&&e.index.$u.setConfig&&e.index.$u.setConfig({config:{iconUrl:"/static/iconfont/iconfont.ttf",loadFontOnce:!0,customIcons:{"chart-line":"",book:"",more:"",file:""}},color:{primary:"#00a82d",success:"#16a34a",warning:"#f59e0b",error:"#dc2626",info:"#0ea5e9"}}),{app:t}}i().app.mount("#app"),exports.createApp=i;
