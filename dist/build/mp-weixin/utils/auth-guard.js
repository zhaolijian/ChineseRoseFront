"use strict";const e=require("../common/vendor.js"),r=require("../stores/modules/user.js");exports.ensureLoggedIn=(n="此操作")=>{return o=exports,t=null,s=function*(){return!!r.useUserStore().isLoggedIn||new Promise(r=>{e.index.showModal({title:"需要登录",content:`${n}需要登录，是否立即登录？`,confirmText:"去登录",cancelText:"取消",success:n=>{n.confirm&&e.index.navigateTo({url:"/pages/login/login"}),r(!1)}})})},new Promise((e,r)=>{var n=e=>{try{c(s.next(e))}catch(n){r(n)}},i=e=>{try{c(s.throw(e))}catch(n){r(n)}},c=r=>r.done?e(r.value):Promise.resolve(r.value).then(n,i);c((s=s.apply(o,t)).next())});var o,t,s};
