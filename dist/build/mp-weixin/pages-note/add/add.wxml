<view class="note-add-page data-v-f6f97da3"><view class="custom-navbar data-v-f6f97da3"><view class="navbar-content data-v-f6f97da3"><view class="navbar-left data-v-f6f97da3" bindtap="{{b}}"><u-icon wx:if="{{a}}" class="data-v-f6f97da3" u-i="f6f97da3-0" bind:__l="__l" u-p="{{a}}"></u-icon><text class="back-text data-v-f6f97da3">取消</text></view><text class="navbar-title data-v-f6f97da3">添加笔记</text><view class="navbar-right data-v-f6f97da3" bindtap="{{d}}"><text class="{{['save-text', 'data-v-f6f97da3', c && 'disabled']}}">保存</text></view></view></view><view class="form-content data-v-f6f97da3"><view class="form-section data-v-f6f97da3"><view class="section-header data-v-f6f97da3"><text class="section-title data-v-f6f97da3">关联书籍</text><text wx:if="{{e}}" class="required-mark data-v-f6f97da3">*</text></view><view class="book-selector data-v-f6f97da3" bindtap="{{m}}"><view wx:if="{{f}}" class="selected-book data-v-f6f97da3"><u-image wx:if="{{g}}" class="data-v-f6f97da3" u-i="f6f97da3-1" bind:__l="__l" u-p="{{g}}"></u-image><view class="book-info data-v-f6f97da3"><text class="book-title data-v-f6f97da3">{{h}}</text><text class="book-author data-v-f6f97da3">{{i}}</text></view><u-icon wx:if="{{j}}" class="data-v-f6f97da3" u-i="f6f97da3-2" bind:__l="__l" u-p="{{j}}"></u-icon></view><view wx:else class="placeholder data-v-f6f97da3"><u-icon wx:if="{{k}}" class="data-v-f6f97da3" u-i="f6f97da3-3" bind:__l="__l" u-p="{{k}}"></u-icon><text class="placeholder-text data-v-f6f97da3">选择书籍</text><u-icon wx:if="{{l}}" class="data-v-f6f97da3" u-i="f6f97da3-4" bind:__l="__l" u-p="{{l}}"></u-icon></view></view></view><view class="form-section data-v-f6f97da3"><view class="section-header data-v-f6f97da3"><text class="section-title data-v-f6f97da3">笔记标题</text><text class="required-mark data-v-f6f97da3">*</text></view><u-input wx:if="{{o}}" class="data-v-f6f97da3" u-i="f6f97da3-5" bind:__l="__l" bindupdateModelValue="{{n}}" u-p="{{o}}"></u-input></view><view class="form-section data-v-f6f97da3"><view class="section-header data-v-f6f97da3"><text class="section-title data-v-f6f97da3">笔记类型</text></view><view class="note-types data-v-f6f97da3"><view wx:for="{{p}}" wx:for-item="type" wx:key="d" class="{{['type-item', 'data-v-f6f97da3', type.e && 'active']}}" bindtap="{{type.f}}"><u-icon wx:if="{{type.b}}" class="data-v-f6f97da3" u-i="{{type.a}}" bind:__l="__l" u-p="{{type.b}}"></u-icon><text class="type-text data-v-f6f97da3">{{type.c}}</text></view></view></view><view class="form-section data-v-f6f97da3"><view class="section-header data-v-f6f97da3"><text class="section-title data-v-f6f97da3">位置信息</text></view><view class="location-inputs data-v-f6f97da3"><view class="input-item data-v-f6f97da3"><text class="input-label data-v-f6f97da3">页码</text><u-input wx:if="{{r}}" class="data-v-f6f97da3" u-i="f6f97da3-7" bind:__l="__l" bindupdateModelValue="{{q}}" u-p="{{r}}"></u-input></view><view class="input-item data-v-f6f97da3"><text class="input-label data-v-f6f97da3">章节</text><u-input wx:if="{{t}}" class="data-v-f6f97da3" u-i="f6f97da3-8" bind:__l="__l" bindupdateModelValue="{{s}}" u-p="{{t}}"></u-input></view></view></view><view class="form-section data-v-f6f97da3"><view class="section-header data-v-f6f97da3"><text class="section-title data-v-f6f97da3">笔记内容</text><text class="required-mark data-v-f6f97da3">*</text></view><u-textarea wx:if="{{w}}" class="data-v-f6f97da3" u-i="f6f97da3-9" bind:__l="__l" bindupdateModelValue="{{v}}" u-p="{{w}}"></u-textarea></view><view class="form-section data-v-f6f97da3"><view class="section-header data-v-f6f97da3"><text class="section-title data-v-f6f97da3">标签</text></view><view class="tag-section data-v-f6f97da3"><view wx:if="{{x}}" class="current-tags data-v-f6f97da3"><view wx:for="{{y}}" wx:for-item="tag" wx:key="d" class="tag-item data-v-f6f97da3"><text class="tag-text data-v-f6f97da3">#{{tag.a}}</text><u-icon wx:if="{{z}}" class="data-v-f6f97da3" bindclick="{{tag.b}}" u-i="{{tag.c}}" bind:__l="__l" u-p="{{z}}"></u-icon></view></view><view class="tag-input data-v-f6f97da3"><u-input wx:if="{{C}}" class="data-v-f6f97da3" bindconfirm="{{A}}" u-i="f6f97da3-11" bind:__l="__l" bindupdateModelValue="{{B}}" u-p="{{C}}"></u-input><u-button wx:if="{{E}}" class="data-v-f6f97da3" bindclick="{{D}}" u-i="f6f97da3-12" bind:__l="__l" u-p="{{E}}"></u-button></view></view></view><view class="form-section data-v-f6f97da3"><view class="section-header data-v-f6f97da3"><text class="section-title data-v-f6f97da3">图片</text></view><view class="image-section data-v-f6f97da3"><view wx:if="{{F}}" class="image-list data-v-f6f97da3"><view wx:for="{{G}}" wx:for-item="image" wx:key="f" class="image-item data-v-f6f97da3"><u-image wx:if="{{image.c}}" class="data-v-f6f97da3" bindclick="{{image.a}}" u-i="{{image.b}}" bind:__l="__l" u-p="{{image.c}}"></u-image><view class="image-remove data-v-f6f97da3" bindtap="{{image.e}}"><u-icon wx:if="{{H}}" class="data-v-f6f97da3" u-i="{{image.d}}" bind:__l="__l" u-p="{{H}}"></u-icon></view></view></view><view class="image-actions data-v-f6f97da3"><view class="action-button data-v-f6f97da3" bindtap="{{J}}"><u-icon wx:if="{{I}}" class="data-v-f6f97da3" u-i="f6f97da3-15" bind:__l="__l" u-p="{{I}}"></u-icon><text class="action-text data-v-f6f97da3">添加图片</text></view><view class="action-button data-v-f6f97da3" bindtap="{{L}}"><u-icon wx:if="{{K}}" class="data-v-f6f97da3" u-i="f6f97da3-16" bind:__l="__l" u-p="{{K}}"></u-icon><text class="action-text data-v-f6f97da3">OCR识别</text></view><view class="action-button data-v-f6f97da3" bindtap="{{N}}"><u-icon wx:if="{{M}}" class="data-v-f6f97da3" u-i="f6f97da3-17" bind:__l="__l" u-p="{{M}}"></u-icon><text class="action-text data-v-f6f97da3">语音记录</text></view></view></view></view></view><u-popup wx:if="{{Q}}" class="data-v-f6f97da3" u-s="{{['d']}}" u-i="f6f97da3-18" bind:__l="__l" bindupdateModelValue="{{P}}" u-p="{{Q}}"><view class="book-picker data-v-f6f97da3"><view class="picker-header data-v-f6f97da3"><text class="picker-title data-v-f6f97da3">选择书籍</text></view><view class="book-list data-v-f6f97da3"><view wx:for="{{O}}" wx:for-item="book" wx:key="h" class="book-item data-v-f6f97da3" bindtap="{{book.i}}"><u-image wx:if="{{book.b}}" class="data-v-f6f97da3" u-i="{{book.a}}" bind:__l="__l" u-p="{{book.b}}"></u-image><view class="book-info data-v-f6f97da3"><text class="book-title data-v-f6f97da3">{{book.c}}</text><text class="book-author data-v-f6f97da3">{{book.d}}</text></view><u-icon wx:if="{{book.e}}" class="data-v-f6f97da3" u-i="{{book.f}}" bind:__l="__l" u-p="{{book.g}}"></u-icon></view></view></view></u-popup><u-loading-page wx:if="{{R}}" class="data-v-f6f97da3" u-i="f6f97da3-21" bind:__l="__l" u-p="{{R}}"></u-loading-page></view>