"use strict";var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,a=(e,a)=>{for(var n in a||(a={}))r.call(a,n)&&s(e,n,a[n]);if(t)for(var n of t(a))o.call(a,n)&&s(e,n,a[n]);return e};const n=require("../../utils/request.js"),p=require("../../types/errorCodes.js");exports.createNote=e=>n.http.post("/v1/notes",e),exports.deleteNote=e=>n.http.delete(`/v1/notes/${e}`),exports.getNoteDetail=e=>n.http.get(`/v1/notes/${e}`),exports.getNoteList=(e={})=>n.http.get("/v1/notes",e),exports.getNotesByBook=(e,...s)=>{return l=exports,i=[e,...s],u=function*(e,s={}){var l,i;const u=s,{page:c=1,pageSize:v=20}=u,g=((e,s)=>{var a={};for(var n in e)r.call(e,n)&&s.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&t)for(var n of t(e))s.indexOf(n)<0&&o.call(e,n)&&(a[n]=e[n]);return a})(u,["page","pageSize"]),h=yield((e,t={})=>n.http.get(`/v1/books/${e}/notes`,t,{showLoading:!1,silenceBusinessErrorCodes:[p.ErrorCode.ERR_BAD_REQUEST,p.ErrorCode.ERR_NOT_FOUND]}))(e,a({page:c,pageSize:v},g)),d=null!=(l=h.notes)?l:[],y=null!=(i=h.total)?i:d.length;return{list:d,total:y,page:c,pageSize:v,hasMore:c*v<y}},new Promise((e,t)=>{var r=e=>{try{s(u.next(e))}catch(r){t(r)}},o=e=>{try{s(u.throw(e))}catch(r){t(r)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,o);s((u=u.apply(l,i)).next())});var l,i,u},exports.searchNotes=(e,t={})=>n.http.get("/v1/notes",a({keyword:e},t)),exports.updateNote=(e,t)=>n.http.put(`/v1/notes/${e}`,t);
