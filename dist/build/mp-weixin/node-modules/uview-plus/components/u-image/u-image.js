"use strict";const i=require("../../../../common/vendor.js"),t={name:"u-image",mixins:[i.mpMixin,i.mixin,i.props$5],data(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{},show:!1}},watch:{src:{immediate:!0,handler(i){i?(this.isError=!1,this.loading=!0):this.isError=!0}}},computed:{transStyle(){let t={};return this.loading||this.isError||"100%"==this.width||"heightFix"!=this.mode?t.width=i.addUnit(this.width):t.width="fit-content",this.loading||this.isError||"100%"==this.height||"widthFix"!=this.mode?t.height=i.addUnit(this.height):t.height="fit-content",t},wrapStyle(){let t={};return this.loading||this.isError||"100%"==this.width||"heightFix"!=this.mode?t.width=i.addUnit(this.width):t.width="fit-content",this.loading||this.isError||"100%"==this.height||"widthFix"!=this.mode?t.height=i.addUnit(this.height):t.height="fit-content",t.borderRadius="circle"==this.shape?"10000px":i.addUnit(this.radius),t.overflow=this.radius>0?"hidden":"visible",i.deepMerge(t,i.addStyle(this.customStyle))}},mounted(){this.show=!0},emits:["click","error","load"],methods:{addUnit:i.addUnit,onClick(i){this.$emit("click",i)},onErrorHandler(i){this.loading=!1,this.isError=!0,this.$emit("error",i)},onLoadHandler(i){this.loading=!1,this.isError=!1,this.$emit("load",i),this.removeBgColor()},removeBgColor(){}}};if(!Array){(i.resolveComponent("up-icon")+i.resolveComponent("u-transition"))()}Math;const r=i._export_sfc(t,[["render",function(t,r,o,d,e,h){return i.e({a:!e.isError},e.isError?{}:{b:t.src,c:t.mode,d:i.o((...i)=>h.onErrorHandler&&h.onErrorHandler(...i)),e:i.o((...i)=>h.onLoadHandler&&h.onLoadHandler(...i)),f:t.showMenuByLongpress,g:t.lazyLoad,h:h.addUnit(t.width),i:h.addUnit(t.height),j:"circle"==t.shape?"10000px":h.addUnit(t.radius)},{k:t.showLoading&&e.loading},t.showLoading&&e.loading?{l:i.p({name:t.loadingIcon}),m:"circle"==t.shape?"50%":h.addUnit(t.radius),n:this.bgColor,o:h.addUnit(t.width),p:h.addUnit(t.height)}:{},{q:t.showError&&e.isError&&!e.loading},t.showError&&e.isError&&!e.loading?{r:i.p({name:t.errorIcon}),s:"circle"==t.shape?"50%":h.addUnit(t.radius),t:this.bgColor,v:h.addUnit(t.width),w:h.addUnit(t.height)}:{},{x:i.o((...i)=>h.onClick&&h.onClick(...i)),y:i.s(h.wrapStyle),z:i.s(e.backgroundStyle),A:i.s(h.transStyle),B:i.p({mode:"fade",show:e.show,duration:t.fade?1e3:0})})}],["__scopeId","data-v-fb00dbba"]]);wx.createComponent(r);
