"use strict";const e=require("../../../../common/vendor.js"),i={name:"u-input",mixins:[e.mpMixin,e.mixin,e.props$9],data:()=>({clearInput:!1,innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e,showPassword:!1}),created(){this.formatter&&(this.innerFormatter=this.formatter)},watch:{modelValue:{immediate:!0,handler(i,t){this.changeFromInner||this.innerValue===i||(this.innerValue=i,!1===this.firstChange&&!1===this.changeFromInner?this.valueChange(this.innerValue,!0):this.firstChange||e.formValidate(this,"change"),this.firstChange=!1),this.changeFromInner=!1}}},computed:{isPassword(){let e=!1;return e=!!this.password||"password"==this.type,this.showPassword&&(e=!1),e},isShowClear(){const{clearable:e,readonly:i,focused:t,innerValue:n,onlyClearableOnFocused:o}=this;return!(!e||i)&&(o?!!t&&""!==n:""!==n)},inputClass(){let e=[],{border:i,disabled:t,shape:n}=this;return"surround"===i&&(e=e.concat(["u-border","u-input--radius"])),e.push(`u-input--${n}`),"bottom"===i&&(e=e.concat(["u-border-bottom","u-input--no-radius"])),e.join(" ")},wrapperStyle(){const i={};return this.disabled&&(i.backgroundColor=this.disabledColor),"none"===this.border?i.padding="0":(i.paddingTop="6px",i.paddingBottom="6px",i.paddingLeft="9px",i.paddingRight="9px"),e.deepMerge(i,e.addStyle(this.customStyle))},inputStyle(){return{color:this.color,fontSize:e.addUnit(this.fontSize),textAlign:this.inputAlign}}},emits:["update:modelValue","focus","blur","change","confirm","clear","keyboardheightchange","nicknamereview"],methods:{setFormatter(e){this.innerFormatter=e},onInput(e){let{value:i=""}=e.detail||{};this.innerValue=i,this.$nextTick(()=>{let e=this.innerFormatter(i);this.innerValue=e,this.valueChange(e)})},onBlur(i){this.$emit("blur",i.detail.value),e.sleep(150).then(()=>{this.focused=!1}),e.formValidate(this,"blur")},onFocus(e){this.focused=!0,this.$emit("focus")},doFocus(){this.$refs["input-native"].focus()},doBlur(){this.$refs["input-native"].blur()},onConfirm(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(e){this.$emit("keyboardheightchange",e)},onnicknamereview(e){this.$emit("nicknamereview",e)},valueChange(i,t=!1){this.clearInput&&(this.innerValue="",this.clearInput=!1),this.$nextTick(()=>{t&&!this.clearInput||(this.changeFromInner=!0,this.$emit("change",i),this.$emit("update:modelValue",i)),e.formValidate(this,"change")})},onClear(){this.clearInput=!0,this.innerValue="",this.$nextTick(()=>{this.valueChange(""),this.$emit("clear")})},clickHandler(){(this.disabled||this.readonly)&&e.index.hideKeyboard()}}};if(!Array){e.resolveComponent("up-icon")()}const t=e._export_sfc(i,[["render",function(i,t,n,o,s,r){return e.e({a:i.prefixIcon||i.$slots.prefix},i.prefixIcon||i.$slots.prefix?{b:e.p({name:i.prefixIcon,size:"18",customStyle:i.prefixIconStyle})}:{},{c:e.s(r.inputStyle),d:s.showPassword&&"password"==i.type?"text":i.type,e:i.focus,f:i.cursor,g:s.innerValue,h:i.autoBlur,i:i.disabled||i.readonly,j:i.maxlength,k:i.placeholder,l:i.placeholderStyle,m:i.placeholderClass,n:i.confirmType,o:i.confirmHold,p:i.holdKeyboard,q:i.cursorColor,r:i.cursorSpacing,s:i.adjustPosition,t:i.selectionEnd,v:i.selectionStart,w:r.isPassword,x:i.ignoreCompositionEvent,y:e.o((...e)=>r.onInput&&r.onInput(...e)),z:e.o((...e)=>r.onBlur&&r.onBlur(...e)),A:e.o((...e)=>r.onFocus&&r.onFocus(...e)),B:e.o((...e)=>r.onConfirm&&r.onConfirm(...e)),C:e.o((...e)=>r.onkeyboardheightchange&&r.onkeyboardheightchange(...e)),D:e.o((...e)=>r.onnicknamereview&&r.onnicknamereview(...e)),E:e.o((...e)=>r.clickHandler&&r.clickHandler(...e)),F:r.isShowClear},r.isShowClear?{G:e.p({name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"}),H:e.o((...e)=>r.onClear&&r.onClear(...e))}:{},{I:("password"==i.type||i.password)&&i.passwordVisibilityToggle},("password"==i.type||i.password)&&i.passwordVisibilityToggle?{J:e.o(e=>s.showPassword=!s.showPassword),K:e.p({name:s.showPassword?"eye-off":"eye-fill",size:"18"})}:{},{L:i.suffixIcon||i.$slots.suffix},i.suffixIcon||i.$slots.suffix?{M:e.p({name:i.suffixIcon,size:"18",customStyle:i.suffixIconStyle})}:{},{N:e.n(r.inputClass),O:e.s(r.wrapperStyle)})}],["__scopeId","data-v-cff8b1b0"]]);wx.createComponent(t);
