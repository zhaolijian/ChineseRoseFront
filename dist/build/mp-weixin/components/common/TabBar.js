"use strict";const e=require("../../common/vendor.js");if(!Array){e.resolveComponent("u-icon")()}const o=e.defineComponent({__name:"TabBar",props:{modelValue:null,useIconfont:{type:Boolean,default:!0}},setup(o){const t=o,a=[{path:"/pages/index/index",text:"书架",glyph:"",uIcon:"home"},{path:"/pages/notes/index",text:"笔记",glyph:"",uIcon:"file-text"},{path:"/pages/profile/index",text:"我的",glyph:"",uIcon:"account"}],n=e.ref(""),c=()=>{if(t.modelValue)return void(n.value=t.modelValue);const e=getCurrentPages();if(e&&e.length){const o="/"+e[e.length-1].route;n.value=o}};function s(){e.index.showActionSheet({itemList:["添加书籍","新建笔记","OCR识别"],success:o=>{switch(o.tapIndex){case 0:e.index.navigateTo({url:"/pages-book/add/add"});break;case 1:e.index.navigateTo({url:"/pages-note/add/add"});break;case 2:e.index.navigateTo({url:"/pages-note/ocr/ocr"})}}})}e.onMounted(()=>{c()}),e.onShow(()=>{c()}),e.watchEffect(()=>{t.modelValue&&(n.value=t.modelValue)});return(t,c)=>({a:e.f(a,(t,a,c)=>e.e(o.useIconfont?{a:e.t(t.glyph)}:{b:"7697615b-0-"+c,c:e.p({name:t.uIcon,size:"22",color:n.value===t.path?"#059669":"#6B7280"})},{d:e.t(t.text),e:t.path,f:n.value===t.path?1:"",g:1===a?1:"",h:e.o(o=>{var a;(a=t.path)!==n.value&&e.index.switchTab({url:a})},t.path)})),b:o.useIconfont,c:e.p({name:"plus",size:"28",color:"#ffffff"}),d:e.s("background-color: #2E7D32"),e:e.o(s),f:e.s("")})}}),t=e._export_sfc(o,[["__scopeId","data-v-7697615b"]]);wx.createComponent(t);
