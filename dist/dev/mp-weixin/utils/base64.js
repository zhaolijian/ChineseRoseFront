"use strict";const e=require("../common/vendor.js");function r(e){let r="",t=0,n=0;for(let o=0;o<e.length&&"="!==e[o];o++){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[o]);-1!==c&&(n=n<<6|c,t+=6,t>=8&&(t-=8,r+=String.fromCharCode(n>>t&255)))}return r}exports.base64Decode=function(t){let n=t.replace(/-/g,"+").replace(/_/g,"/");const o=n.length%4;o>0&&(n+="=".repeat(4-o));try{const r=e.index.base64ToArrayBuffer(n),t=new Uint8Array(r);let o="";for(let e=0;e<t.length;e++)o+=String.fromCharCode(t[e]);return o}catch(c){return console.error("[base64Decode] 小程序解码失败，降级到手动解码:",c),r(n)}return r(n)};
