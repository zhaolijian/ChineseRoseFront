<view class="bookshelf-page"><app-nav-bar wx:if="{{a}}" u-i="42ebc204-0" bind:__l="__l" u-p="{{a}}"/><page-container u-s="{{['d']}}" u-i="42ebc204-1" bind:__l="__l"><view class="bookshelf-content"><view wx:if="{{b}}" class="bookshelf-empty"><empty-state wx:if="{{d}}" bindaction="{{c}}" u-i="42ebc204-2,42ebc204-1" bind:__l="__l" u-p="{{d}}"/></view><view wx:else><view class="bookshelf-search" style="{{q}}"><view class="{{['search-box', p]}}"><view class="search-leading"><u-icon wx:if="{{e}}" class="search-leading__icon" u-i="42ebc204-3,42ebc204-1" bind:__l="__l" u-p="{{e}}"/><input class="search-input" type="text" confirm-type="search" value="{{f}}" placeholder="搜索书籍" placeholder-class="search-placeholder" bindinput="{{g}}" bindconfirm="{{h}}" bindkeyup="{{i}}" bindfocus="{{j}}" bindblur="{{k}}"/><u-icon wx:if="{{l}}" class="search-clear-icon" bindclick="{{m}}" u-i="42ebc204-4,42ebc204-1" bind:__l="__l" u-p="{{n}}"/></view><view class="search-divider"/><view class="search-suffix" bindtap="{{o}}"><image class="scan-icon" src="/static/icons/scan-isbn.svg" mode="aspectFit"/></view></view></view><view wx:if="{{r}}"><loading-skeleton wx:if="{{s}}" u-i="42ebc204-5,42ebc204-1" bind:__l="__l" u-p="{{s}}"/></view><view wx:else class="shelf-grid"><view class="shelf-card add-book-card" bindtap="{{t}}"><view class="add-card__icon"><text class="add-card__plus">+</text></view><text class="add-card__text">添加新书</text></view><view wx:for="{{v}}" wx:for-item="book" wx:key="e" class="shelf-card book-card" bindtap="{{book.f}}"><book-cover wx:if="{{book.b}}" u-i="{{book.a}}" bind:__l="__l" u-p="{{book.b}}"/><view class="book-info"><text class="book-title">{{book.c}}</text><text class="book-notes">{{book.d}}条笔记</text></view></view></view></view></view></page-container><view class="bookshelf-fab" bindtap="{{w}}"><text class="fab-icon">+</text></view><tab-bar u-i="42ebc204-7" bind:__l="__l"/><u-popup wx:if="{{x}}" u-s="{{['d']}}" u-i="42ebc204-8" bind:__l="__l" bindupdateModelValue="{{C}}" u-p="{{D}}"><view class="add-book-popup"><view class="popup-header"><text class="popup-title">添加书籍</text></view><view class="add-methods"><view class="method-item" bindtap="{{z}}"><u-icon wx:if="{{y}}" class="cr-icon--active" u-i="42ebc204-9,42ebc204-8" bind:__l="__l" u-p="{{y}}"></u-icon><text class="method-text">扫描ISBN</text></view><view class="method-item" bindtap="{{B}}"><u-icon wx:if="{{A}}" class="cr-icon--active" u-i="42ebc204-10,42ebc204-8" bind:__l="__l" u-p="{{A}}"></u-icon><text class="method-text">手动添加</text></view></view></view></u-popup><u-loading-page wx:if="{{E}}" u-i="42ebc204-11" bind:__l="__l" u-p="{{E}}"></u-loading-page><book-preview wx:if="{{F}}" bindrescan="{{G}}" bindadded="{{H}}" u-i="42ebc204-12" bind:__l="__l" bindupdateModelValue="{{I}}" u-p="{{J}}"/></view>