"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./common/vendor.js"),r=require("./stores/modules/user.js");require("./utils/request.js");const t=require("./utils/logger.js"),o=require("./utils/logger-helpers.js");require("./utils/storage.js"),require("./constants/storage.js"),require("./utils/base64.js"),require("./api/modules/auth.js"),require("./types/errorCodes.js"),require("./constants/request.js"),require("./utils/error-handler.js"),Math;const n=e.defineComponent({__name:"App",setup(n){const i=r.useUserStore();e.onLaunch(()=>{const e=o.createContext();t.logger.info(e,"[App] 应用启动"),s()}),e.onShow(()=>{const e=o.createContext();t.logger.info(e,"[App] 应用显示")}),e.onHide(()=>{const e=o.createContext();t.logger.info(e,"[App] 应用隐藏")});const s=()=>{return r=this,n=null,s=function*(){const r=o.createContext();try{t.logger.debug(r,"[initApp] 开始初始化应用");const o=yield e.index.getSystemInfo();t.logger.debug(r,"[initApp] 系统信息",{platform:o.platform,version:o.version,screenWidth:o.screenWidth,screenHeight:o.screenHeight}),yield i.initUserInfo(),t.logger.info(r,"[initApp] 用户登录状态（本地检查）",{isLoggedIn:i.isLoggedIn}),t.logger.info(r,"[initApp] 应用初始化完成")}catch(n){t.logger.error(r,"[initApp] 应用初始化失败",n)}},new Promise((e,t)=>{var o=e=>{try{c(s.next(e))}catch(r){t(r)}},i=e=>{try{c(s.throw(e))}catch(r){t(r)}},c=r=>r.done?e(r.value):Promise.resolve(r.value).then(o,i);c((s=s.apply(r,n)).next())});var r,n,s};return(e,r)=>({})}}),i=e._export_sfc(n,[["__file","/Users/zhaolijian/Projects/chinese-rose-front/src/App.vue"]]);function s(){const r=e.createSSRApp(i),t=e.createPinia();r.use(t);const o=()=>"function"!=typeof getApp?null:getApp({allowDefault:!0}),n=o();return n?n.$pinia=t:r.mixin({onLaunch(){const e=o();e&&(e.$pinia=t)}}),r.config.globalProperties.$pinia=t,void 0!==e.index&&(e.index.$pinia=t),r.use(e.uView),e.index.$u&&e.index.$u.setConfig&&e.index.$u.setConfig({config:{iconUrl:"/static/iconfont/iconfont.ttf",loadFontOnce:!0,customIcons:{"chart-line":"",book:"",more:"",file:""}},color:{primary:"#00a82d",success:"#16a34a",warning:"#f59e0b",error:"#dc2626",info:"#0ea5e9"}}),{app:r}}s().app.mount("#app"),exports.createApp=s;
