<view class="page">
  <view class="toolbar">
    <van-search value="{{ keyword }}" placeholder="搜索笔记内容" bind:change="onKeywordChange" bind:search="onSearch" />
  </view>

  <van-cell-group>
    <van-cell
      wx:for="{{ notes }}"
      wx:key="id"
      title="{{ (item.content || '').substring(0, 24) }}"
      label="{{ formatTime(item.updatedAt) }}"
      is-link
      data-id="{{ item.id }}"
      bind:click="onOpenNote"
    />
  </van-cell-group>

  <view class="empty" wx:if="{{ !loading && notes.length === 0 }}">
    <van-empty description="暂无笔记" />
  </view>

  <view class="loading" wx:if="{{ loading }}">
    <van-loading size="24px" type="spinner">加载中...</van-loading>
  </view>
</view>
